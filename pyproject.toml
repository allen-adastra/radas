[tool.poetry]
name = "radas"
version = "1.0.0"
description = "Plasma radiated power calculated using OpenADAS"
authors = ["Commonwealth Fusion Systems"]
readme = "README.md"

[tool.poetry.scripts]
radas = 'radas.cli:run_radas_cli'
run_radas = 'radas.cli:run_radas_cli'

[tool.poetry.dependencies]
python = "<3.12,>=3.9"
numpy = "^1.26.4"
scipy = "^1.12.0"
matplotlib = "^3.8.3"
Pint = "^0.23"
pyyaml = "^6.0"
xarray = "^2024.2.0"
pint-xarray = "^0.3"
click = "^8.1.7"
pytest-order = "^1.2.0"
importlib-resources = "^6.3.2"

[tool.poetry.group.dev.dependencies]
black = "^24.2.0"
ipdb = "^0.13.13"
pytest = "^7.2.1"
pytest-cov = "^4.1.0"
coverage = "^7.2.2"
ipykernel = "^6.22.0"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"

[tool.pytest.ini_options]
markers = [
    "slow: marks tests as slow (deselect with '-m \"not slow\"')",
]
addopts = "--cov=radas --cov-branch --cov-report term --cov-report xml:coverage.xml --import-mode=importlib"
pythonpath = [
  ".",
  "radas",
]
testpaths = [
  "tests",
]

[tool.coverage.run]
omit = [
  # These are built and executed at runtime. This is done in
  # a temporary repository. The temporary copies of the reader
  # are covered instead of the actual source files.
  "radas/adas_interface/source_files/*"
]